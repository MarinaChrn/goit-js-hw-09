{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAeC,SAASC,cAAc,kBACtCC,EAASF,SAASC,cAAc,iBAChCE,EAAWH,SAASC,cAAc,mBAElCG,GADcJ,SAASC,cAAc,mBAC5BD,SAASC,cAAc,SAEtC,IAAII,EAAUC,EAAOC,EACjBC,EAAQ,GACZJ,EAAOK,iBAAiB,UAAU,SAASC,GACzCA,EAAEC,iBACFJ,EAAaK,OAAOb,EAAac,OACjC,MAAMC,EAAOF,OAAOV,EAAOW,OACrBE,EAASH,OAAOT,EAASU,OAC/B,IAAK,IAAIG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAC/BV,EAAQC,EAAWO,EAAKE,EACxBX,EAAWW,EAAE,EACbR,EAAS,C,SAACH,E,MAAUC,GACpBW,EAAUT,E,IAad,MAAMS,EAAaC,IACHC,YAAW,MAV3B,UAAwBC,SAAAC,EAAUC,MAAAC,IAEhC,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAACP,SAAAC,EAAUC,MAAAC,IAE3BG,QAAQE,OAAO,CAACR,SAAAC,EAAUC,MAAAC,G,EAMjCM,CAAcX,GACbY,MAAK,EAAGV,SAAAW,EAAUT,MAAAU,MACjBC,EAAApC,GAASqC,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAU,IAEzEI,OAAM,EAAGhB,SAAAiB,EAAUf,MAAAgB,MAClBL,EAAApC,GAASqC,OAAOK,QAAQ,sBAAoBF,QAAeC,MAAU,GACrE,GACD,C,MAAChC,GAAO","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst firstDelayEl = document.querySelector('[name=\"delay\"]');\nconst stepEl = document.querySelector('[name=\"step\"]');\nconst amountEl = document.querySelector('[name=\"amount\"]');\nconst btnSubmitEl = document.querySelector('[type=\"submit\"]');\nconst formEl = document.querySelector('form');\n\nlet position, delay, firstDelay;\nlet posDel ={};\nformEl.addEventListener('submit', function(e) {\n  e.preventDefault();\n  firstDelay = Number(firstDelayEl.value);\n  const step = Number(stepEl.value);\n  const amount = Number(amountEl.value);\n  for (let i = 0; i < amount; i += 1) {\n    delay = firstDelay+step*i;\n    position = i+1;\n    posDel = {position, delay};\n    doPromise(posDel);\n  };\n});\n\nfunction createPromise({position, delay}) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({position, delay});\n  } else {\n    return Promise.reject({position, delay});\n  }\n}\n\nconst doPromise = (posDel) => {\n  const timer = setTimeout(()=>{\n    createPromise(posDel)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  }, {delay})\n};\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$firstDelayEl","document","querySelector","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$formEl","$47d4ff9957288465$var$position","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$posDel","addEventListener","e","preventDefault","Number","value","step","amount","i","$47d4ff9957288465$var$doPromise","posDel1","setTimeout","position","position1","delay","delay1","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","position2","delay2","$parcel$interopDefault","Notify","success","catch","position3","delay3","failure"],"version":3,"file":"03-promises.830fcc30.js.map"}