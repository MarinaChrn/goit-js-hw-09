{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,WAGA,IAMcC,EAAOC,EANfC,EAAeC,SAASC,cAAc,kBACtCC,EAASF,SAASC,cAAc,iBAChCE,EAAWH,SAASC,cAAc,mBAElCG,GADcJ,SAASC,cAAc,mBAC5BD,SAASC,cAAc,SAItCG,EAAOC,iBAAiB,UAAU,SAASC,GACzCA,EAAEC,iBACFT,EAAaU,OAAOT,EAAaU,OAGjC,IAFA,IAAMC,EAAOF,OAAON,EAAOO,OACrBE,EAASH,OAAOL,EAASM,OACtBG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAAG,CAClCf,EAAQC,EAAWY,EAAKE,EAGVC,WAAWC,EADhB,CAACC,SADCH,EAAE,EACOI,MAAAnB,IACwBA,E,KAahD,IAAMiB,EAAY,SAACG,GATnB,IAAuBC,EAACC,EAAUC,GAAXF,EAULD,EAVME,EAADD,EAACH,SAAUK,EAAXF,EAAWF,MACVK,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAACT,SAAAI,EAAUH,MAAAI,IAE3BG,QAAQE,OAAO,CAACV,SAAAI,EAAUH,MAAAI,KAMhCM,MAAK,SAAAR,G,IAAGS,EAAQT,EAARH,SAAUa,EAAKV,EAALF,MACjBa,EAAAlC,GAASmC,OAAOC,QAAQ,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,IAEvEK,OAAM,SAAAf,G,IAAGgB,EAAQhB,EAARH,SAAUoB,EAAKjB,EAALF,MAClBa,EAAAlC,GAASmC,OAAOM,QAAQ,sBAAuCJ,OAAfE,EAAS,QAAYF,OAANG,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst firstDelayEl = document.querySelector('[name=\"delay\"]');\nconst stepEl = document.querySelector('[name=\"step\"]');\nconst amountEl = document.querySelector('[name=\"amount\"]');\nconst btnSubmitEl = document.querySelector('[type=\"submit\"]');\nconst formEl = document.querySelector('form');\n\nlet position, delay, firstDelay;\nlet posDel ={};\nformEl.addEventListener('submit', function(e) {\n  e.preventDefault();\n  firstDelay = Number(firstDelayEl.value);\n  const step = Number(stepEl.value);\n  const amount = Number(amountEl.value);\n  for (let i = 0; i < amount; i += 1) {\n    delay = firstDelay+step*i;\n    position = i+1;\n    posDel = {position, delay};\n    const timer = setTimeout(doPromise(posDel), delay);\n  };\n});\n\nfunction createPromise({position, delay}) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({position, delay});\n  } else {\n    return Promise.reject({position, delay});\n  }\n}\n\nconst doPromise = (posDel) => {\n    createPromise(posDel)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n};\n\n// let position, delay, firstDelay;\n// let posDel ={};\n// formEl.addEventListener('submit', function(e) {\n//   e.preventDefault();\n//   firstDelay = Number(firstDelayEl.value);\n//   const step = Number(stepEl.value);\n//   const amount = Number(amountEl.value);\n//   for (let i = 0; i < amount; i += 1) {\n//     delay = firstDelay+step*i;\n//     position = i+1;\n//     posDel = {position, delay};\n//     doPromise(posDel);\n//   };\n// });\n\n// function createPromise({position, delay}) {\n//   const shouldResolve = Math.random() > 0.3;\n//   if (shouldResolve) {\n//     return Promise.resolve({position, delay});\n//   } else {\n//     return Promise.reject({position, delay});\n//   }\n// }\n\n// const doPromise = (posDel) => {\n//   const timer = setTimeout(()=>{\n//     createPromise(posDel)\n//     .then(({ position, delay }) => {\n//       Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//     })\n//     .catch(({ position, delay }) => {\n//       Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n//     });\n//   }, {delay})\n// };"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$firstDelay","$ce04d3a99e08e73b$var$firstDelayEl","document","querySelector","$ce04d3a99e08e73b$var$stepEl","$ce04d3a99e08e73b$var$amountEl","$ce04d3a99e08e73b$var$formEl","addEventListener","e","preventDefault","Number","value","step","amount","i","setTimeout","$ce04d3a99e08e73b$var$doPromise","position","delay","posDel1","param","position1","delay1","Math","random","Promise","resolve","reject","then","position2","delay2","$parcel$interopDefault","Notify","success","concat","catch","position3","delay3","failure"],"version":3,"file":"03-promises.95fab10f.js.map"}