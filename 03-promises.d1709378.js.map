{"mappings":"AAAA,MAAMA,EAAeC,SAASC,cAAc,kBACtCC,EAASF,SAASC,cAAc,iBAChCE,EAAWH,SAASC,cAAc,mBACpBD,SAASC,cAAc,mBAG3C,IAAIG,EAAUC,EAFCL,SAASC,cAAc,QAG/BK,iBAAiB,UAAU,SAASC,GACzCA,EAAEC,iBACFH,EAAQI,OAAOV,EAAaW,OAC5B,MAAMC,EAAOF,OAAOP,EAAOQ,OACrBE,EAASH,OAAON,EAASO,OAC/B,IAAK,IAAIG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAAG,CAClCR,GAAcM,EAAKE,EACnBT,EAAWS,EAAE,EAEbC,EADe,C,SAACV,E,MAAUC,G,KAc9B,MAAMS,EAAaC,IACHC,YAAW,KAV3B,IAAuBC,EAAUC,GAAVD,EAWLF,EAVMI,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CAACC,SAAAN,EAAUO,MAAAN,IAE3BG,QAAQI,OAAO,CAACF,SAAAN,EAAUO,MAAAN,KAOhCQ,MAAK,EAAGH,SAAAI,EAAUH,MAAAI,MACjBC,QAAQC,IAAI,uBAAqBH,QAAiBC,MAAU,IAE7DG,OAAM,EAAGR,SAAAS,EAAUR,MAAAS,MAClBJ,QAAQC,IAAI,sBAAoBE,QAAeC,MAAU,GACzD,GACD,C,MAAC5B,GAAQ","sources":["src/js/03-promises.js"],"sourcesContent":["const firstDelayEl = document.querySelector('[name=\"delay\"]');\nconst stepEl = document.querySelector('[name=\"step\"]');\nconst amountEl = document.querySelector('[name=\"amount\"]');\nconst btnSubmitEl = document.querySelector('[type=\"submit\"]');\nconst formEl = document.querySelector('form');\n\nlet position, delay;\nformEl.addEventListener('submit', function(e) {\n  e.preventDefault();\n  delay = Number(firstDelayEl.value);\n  const step = Number(stepEl.value);\n  const amount = Number(amountEl.value);\n  for (let i = 0; i < amount; i += 1) {\n    delay = delay+step*i;\n    position = i+1;\n    const posDel = {position, delay};\n    doPromise(posDel);\n  };\n});\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({position, delay});\n  } else {\n    return Promise.reject({position, delay});\n  }\n}\n\nconst doPromise = (posDel) => {\n  const timer = setTimeout(()=>{\n    createPromise(posDel)\n    .then(({ position, delay }) => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  },({delay}))\n};\n\n"],"names":["$47d4ff9957288465$var$firstDelayEl","document","querySelector","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$position","$47d4ff9957288465$var$delay","addEventListener","e","preventDefault","Number","value","step","amount","i","$47d4ff9957288465$var$doPromise","posDel","setTimeout","position1","delay1","Math","random","Promise","resolve","position","delay","reject","then","position2","delay2","console","log","catch","position3","delay3"],"version":3,"file":"03-promises.d1709378.js.map"}